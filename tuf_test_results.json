{
  "Environment Validation": {
    "success": true,
    "stdout": "Environment validation successful",
    "stderr": "",
    "filepath": "environment"
  },
  "Package Verification": {
    "success": true,
    "stdout": null,
    "stderr": "INFO: TUF (tufup) is available - version: 0.9.0\nINFO: Update service initialized for AccessiWeather\nINFO: TUF available: True\nINFO: Current method: tuf\nC:\\Users\\joshu\\accessiweather\\src\\accessiweather\\services\\tuf_update_service.py:868: RuntimeWarning: coroutine 'AsyncClient.aclose' was never awaited\n  pass  # Ignore errors during cleanup\nRuntimeWarning: Enable tracemalloc to get the object allocation traceback\n",
    "filepath": "test_tuf_package_check.py"
  },
  "Simple Integration": {
    "success": false,
    "stdout": null,
    "stderr": "INFO: Update service initialized for AccessiWeather\nINFO: TUF available: True\nINFO: Current method: tuf\nINFO: Checking for updates using method: tuf\nINFO: Starting TUF client initialization...\nINFO: HTTP Request: HEAD https://orinks.net/updates/metadata \"HTTP/1.1 404 Not Found\"\nINFO: HTTP Request: HEAD https://orinks.net/updates/targets \"HTTP/1.1 404 Not Found\"\nINFO: Root metadata not found, attempting to copy from app bundle\nINFO: Copied root metadata from C:\\Users\\joshu\\accessiweather\\src\\accessiweather\\resources\\root.json\nINFO: TUF client initialized successfully\nINFO: Checking TUF repository for updates...\nWARNING: Cannot refresh metadata: 404 Client Error: Not Found for url: https://orinks.net/updates/timestamp.json\nINFO: No TUF updates available\nINFO: Checking for updates using method: github\nINFO: Checking GitHub releases: https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=10\nINFO: HTTP Request: GET https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=10 \"HTTP/1.1 404 Not Found\"\nERROR: GitHub update check failed: Client error '404 Not Found' for url 'https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=10'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404\nINFO: Settings updated: {'method': 'github', 'channel': 'dev', 'auto_check': False}\nINFO: Update service cleaned up\nINFO: Update service initialized for AccessiWeather\nINFO: TUF available: True\nINFO: Current method: github\nINFO: Checking for updates using method: github\nINFO: Checking GitHub releases: https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20\nINFO: HTTP Request: GET https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20 \"HTTP/1.1 404 Not Found\"\nERROR: GitHub update check failed: Client error '404 Not Found' for url 'https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404\nINFO: Update service cleaned up\nINFO: Update service initialized for AccessiWeather\nINFO: TUF available: True\nINFO: Current method: github\nINFO: Update service initialized for AccessiWeather\nINFO: TUF available: True\nINFO: Current method: github\nINFO: Checking for updates using method: github\nINFO: Checking GitHub releases: https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20\nINFO: HTTP Request: GET https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20 \"HTTP/1.1 404 Not Found\"\nERROR: GitHub update check failed: Client error '404 Not Found' for url 'https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404\nINFO: Checking for updates using method: github\nINFO: Checking GitHub releases: https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20\nINFO: HTTP Request: GET https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20 \"HTTP/1.1 404 Not Found\"\nERROR: GitHub update check failed: Client error '404 Not Found' for url 'https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404\nINFO: Update service cleaned up\nINFO: Update service initialized for AccessiWeather\nINFO: TUF available: True\nINFO: Current method: github\nINFO: Settings updated: {'channel': 'stable'}\nINFO: Checking for updates using method: github\nINFO: Checking GitHub releases: https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=10\nINFO: HTTP Request: GET https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=10 \"HTTP/1.1 404 Not Found\"\nERROR: GitHub update check failed: Client error '404 Not Found' for url 'https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=10'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404\nINFO: Update service cleaned up\nINFO: Update service initialized for AccessiWeather\nINFO: TUF available: True\nINFO: Current method: github\nINFO: Settings updated: {'channel': 'beta'}\nINFO: Checking for updates using method: github\nINFO: Checking GitHub releases: https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20\nINFO: HTTP Request: GET https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20 \"HTTP/1.1 404 Not Found\"\nERROR: GitHub update check failed: Client error '404 Not Found' for url 'https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404\nINFO: Update service cleaned up\nINFO: Update service initialized for AccessiWeather\nINFO: TUF available: True\nINFO: Current method: github\nINFO: Settings updated: {'channel': 'dev'}\nINFO: Checking for updates using method: github\nINFO: Checking GitHub releases: https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20\nINFO: HTTP Request: GET https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20 \"HTTP/1.1 404 Not Found\"\nERROR: GitHub update check failed: Client error '404 Not Found' for url 'https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404\nINFO: Update service cleaned up\nINFO: Update service initialized for AccessiWeather\nINFO: TUF available: True\nINFO: Current method: github\nINFO: Checking for updates using method: invalid\nINFO: Checking GitHub releases: https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20\nINFO: HTTP Request: GET https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20 \"HTTP/1.1 404 Not Found\"\nERROR: GitHub update check failed: Client error '404 Not Found' for url 'https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404\n",
    "filepath": "test_tuf_simple.py"
  },
  "Comprehensive Integration": {
    "success": false,
    "stdout": null,
    "stderr": "Traceback (most recent call last):\n  File \"C:\\Users\\joshu\\accessiweather\\test_tuf_integration.py\", line 92, in test_tuf_updates\n    config_manager = ConfigManager()\n                     ^^^^^^^^^^^^^^^\nTypeError: ConfigManager.__init__() missing 1 required positional argument: 'app'\n",
    "filepath": "test_tuf_integration.py"
  },
  "Unit Tests": {
    "success": false,
    "stdout": "============================= test session starts =============================\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\joshu\\accessiweather\\.venv\\Scripts\\python.exe\ncachedir: .pytest_cache\nrootdir: C:\\Users\\joshu\\accessiweather\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, asyncio-1.1.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function\ncollecting ... \n----------------------------- live log collection -----------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:31 TUF (tufup) is available - version: 0.9.0\ncollected 20 items\n\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_initialize_service_with_defaults \n-------------------------------- live log call --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\nPASSED                                                                   [  5%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_save_and_load_settings \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\n-------------------------------- live log call --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:143 Settings updated: {'method': 'github', 'channel': 'beta', 'auto_check': False, 'check_interval_hours': 12}\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: github\nPASSED                                                                   [ 10%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_handle_invalid_settings_file \n-------------------------------- live log call --------------------------------\nWARNING  accessiweather.services.tuf_update_service:tuf_update_service.py:117 Failed to load settings: Expecting value: line 1 column 1 (char 0)\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\nPASSED                                                                   [ 15%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_check_github_updates_successfully \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\n-------------------------------- live log call --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:172 Checking for updates using method: github\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:251 Checking GitHub releases: https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=10\nPASSED                                                                   [ 20%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_check_github_updates_beta_channel \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\n-------------------------------- live log call --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:143 Settings updated: {'channel': 'beta'}\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:172 Checking for updates using method: github\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:251 Checking GitHub releases: https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=20\nPASSED                                                                   [ 25%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_handle_github_api_errors \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\n-------------------------------- live log call --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:172 Checking for updates using method: github\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:251 Checking GitHub releases: https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=10\nERROR    accessiweather.services.tuf_update_service:tuf_update_service.py:300 GitHub update check failed: API Error\nPASSED                                                                   [ 30%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_filter_platform_specific_assets \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\nPASSED                                                                   [ 35%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_download_update_successfully \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\n-------------------------------- live log call --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:764 Downloading update to C:\\Users\\joshu\\AppData\\Local\\Temp\\accessiweather_updates\\update.exe\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:773 Update downloaded successfully: C:\\Users\\joshu\\AppData\\Local\\Temp\\accessiweather_updates\\update.exe\nPASSED                                                                   [ 40%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_handle_download_failures \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\n-------------------------------- live log call --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:764 Downloading update to C:\\Users\\joshu\\AppData\\Local\\Temp\\accessiweather_updates\\update.exe\nERROR    accessiweather.services.tuf_update_service:tuf_update_service.py:777 Failed to download update: 'coroutine' object does not support the asynchronous context manager protocol\nPASSED                                                                   [ 45%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_get_settings_dict \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\nPASSED                                                                   [ 50%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_tuf_available_property \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\nPASSED                                                                   [ 55%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_current_method_property \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\n-------------------------------- live log call --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:143 Settings updated: {'method': 'github'}\nPASSED                                                                   [ 60%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_cleanup \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\n-------------------------------- live log call --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:857 Update service cleaned up\nPASSED                                                                   [ 65%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_no_updates_available \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\n-------------------------------- live log call --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:172 Checking for updates using method: github\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:251 Checking GitHub releases: https://api.github.com/repos/joshuakitchen/accessiweather/releases?per_page=10\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:296 No GitHub updates available\nPASSED                                                                   [ 70%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_auto_method_selection \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\n-------------------------------- live log call --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:143 Settings updated: {'method': 'auto', 'channel': 'stable'}\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:172 Checking for updates using method: auto\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:178 Auto method: using TUF for stable channel\nPASSED                                                                   [ 75%]\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_github_fallback_when_tuf_unavailable \n------------------------------- live log setup --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:95 Update service initialized for TestApp\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:96 TUF available: True\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:97 Current method: tuf\n-------------------------------- live log call --------------------------------\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:143 Settings updated: {'method': 'tuf'}\nINFO     accessiweather.services.tuf_update_service:tuf_update_service.py:172 Checking for updates using method: tuf\nPASSED                                                                   [ 80%]\ntests/test_tuf_update_service.py::TestUpdateInfo::test_create_update_info PASSED [ 85%]\ntests/test_tuf_update_service.py::TestUpdateInfo::test_update_info_with_all_fields PASSED [ 90%]\ntests/test_tuf_update_service.py::TestUpdateSettings::test_default_settings FAILED [ 95%]\ntests/test_tuf_update_service.py::TestUpdateSettings::test_custom_settings PASSED [100%]\n\n================================== FAILURES ===================================\n__________________ TestUpdateSettings.test_default_settings ___________________\n\nself = <tests.test_tuf_update_service.TestUpdateSettings object at 0x0000017C4DE9D880>\n\n    def test_default_settings(self):\n        \"\"\"Test default UpdateSettings values.\"\"\"\n        settings = UpdateSettings()\n    \n        assert settings.method == \"github\"\n        assert settings.channel == \"stable\"\n        assert settings.auto_check is True\n        assert settings.check_interval_hours == 24\n        assert settings.repo_owner == \"joshuakitchen\"\n        assert settings.repo_name == \"accessiweather\"\n>       assert settings.tuf_repo_url == \"https://updates.accessiweather.app\"\nE       AssertionError: assert 'https://orinks.net/updates' == 'https://updates.accessiweather.app'\nE         \nE         - https://updates.accessiweather.app\nE         + https://orinks.net/updates\n\ntests\\test_tuf_update_service.py:372: AssertionError\n============================== warnings summary ===============================\ntests/test_tuf_update_service.py: 15 warnings\n  C:\\Users\\joshu\\accessiweather\\src\\accessiweather\\services\\tuf_update_service.py:868: RuntimeWarning: coroutine 'AsyncClient.aclose' was never awaited\n    pass  # Ignore errors during cleanup\n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n\ntests/test_tuf_update_service.py::TestTUFUpdateService::test_handle_download_failures\n  C:\\Users\\joshu\\accessiweather\\src\\accessiweather\\services\\tuf_update_service.py:766: RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited\n    async with self._http_client.stream(\"GET\", update_info.download_url) as response:\n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nFAILED tests/test_tuf_update_service.py::TestUpdateSettings::test_default_settings - AssertionError: assert 'https://orinks.net/updates' == 'https://updates.accessiweather.app'\n  \n  - https://updates.accessiweather.app\n  + https://orinks.net/updates\n================== 1 failed, 19 passed, 16 warnings in 3.58s ==================\n",
    "stderr": "",
    "filepath": "tests/test_tuf_update_service.py"
  },
  "Additional TUF Tests": {
    "import_error": "No module named 'accessiweather'"
  }
}