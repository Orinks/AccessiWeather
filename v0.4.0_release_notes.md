# AccessiWeather v0.4.0

## Highlights
- Rebuilt the desktop app on BeeWare’s Toga toolkit for a native, accessible experience across Windows, macOS, and Linux while keeping the familiar layout and system-tray controls.
- Introduced Weather History comparisons that summarize how today’s weather stacks up against yesterday and last week using Open-Meteo archive data—enable the toggle in Settings → Advanced, then open View → Weather History after refreshing a location.
- Auto mode now enriches forecasts with sunrise/sunset times, NWS discussions, and Visual Crossing alerts while cutting refresh times by roughly 2.7× thanks to parallel data fetching.
- Debuted a brand-new sound pack manager with a modular interface, mapping previews, a guided creation wizard, and community integration for themed alert sounds.

## Enhancements
- Refined the settings dialog with accessible dropdowns for temperature units and data sources, plus new toggles for weather history and automatic startup.
- Added an update center with stable/beta/dev channels, background checks, and checksum-verified downloads for MSI and portable builds.
- Expanded the current conditions view to surface sunrise/sunset, UV, air-quality, and pollen metrics in readable summaries.
- Introduced a universal Remove shortcut (Ctrl/Cmd+D) for locations and sound packs, with Delete as a fallback where supported, and updated the UI guidance for screen readers.
- Integrated startup management so the app can launch automatically on Windows, macOS, or Linux without external scripts.

## Fixes & Removals
- Normalized Open-Meteo timestamps to stop international forecasts from shifting by a day.
- Restored compatibility for extensions expecting the legacy `current` weather accessor.
- Prevented duplicate launches by showing an “already running” message instead of leaving orphaned processes.
- Removed the unstable text-to-speech override controls; alert audio now relies on curated sound packs and preset mappings.

## Quality & Tooling
- Refactored the codebase into modular packages (app shell, presenters, weather client, updater) to simplify maintenance.
- Expanded unit coverage for Visual Crossing alerts, Open-Meteo mapping, startup management, and the new weather history feature.
- Streamlined CI/CD with make.py-driven builds, nightly smoketests, checksum validation, and automatic artifact publishing for both installers and portable builds.

## Upgrade Notes
- Existing wxPython-based settings will migrate automatically on first launch.
- Weather History comparisons are enabled by default; with the feature on, head to View → Weather History after refreshing a location to open the comparison dialog.
- Both installed and portable builds currently save preferences to the standard BeeWare config path (`%APPDATA%\.accessiweather` on Windows, `~/.accessiweather` elsewhere). Keep this in mind when moving the portable ZIP—copy the config directory as well if you want to preserve settings.
- Portable users should delete any legacy `config` folders next to the executable before extracting the new ZIP to ensure sound packs and assets refresh cleanly, even though settings now live in the shared BeeWare path.
