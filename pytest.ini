[pytest]
# Test configuration optimized for speed
# - Parallel execution enabled (-n auto)
# - Verbose output with short tracebacks
# - pytest-asyncio in auto mode
addopts = -v --strict-markers -p no:asyncio -p pytest_asyncio.plugin -n auto --dist loadscope --tb=short -m "not live_only"

# =============================================================================
# QUICK REFERENCE
# =============================================================================
# Default run (fast):     pytest
# Single test:            pytest tests/test_file.py::TestClass::test_method
# Pattern match:          pytest -k "cache"
# With coverage:          pytest --cov=accessiweather
# Disable parallel:       pytest -n 0
# More verbose:           pytest -vv
# =============================================================================

python_files = test_*.py
python_classes = Test*
python_functions = test_*
testpaths = tests
pythonpath = src

# Async mode for pytest-asyncio
asyncio_mode = auto

# Markers
markers =
    unit: Unit tests (fast, mocked dependencies)
    integration: Integration tests (may use network)
    live_only: Tests requiring live API access (skipped by default)
    slow: Slow tests

# Ignore warnings from dependencies
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
